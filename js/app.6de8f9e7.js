(function(t){function e(e){for(var s,a,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)a=o[u],n[a]&&h.push(n[a][0]),n[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},n={app:0},r=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/NetworkViz/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"087a":function(t,e,i){"use strict";i("1948")},"0905":function(t,e,i){},1948:function(t,e,i){},"1ec2":function(t,e,i){"use strict";i("0905")},"2c55":function(t,e,i){},"2c60":function(t,e,i){"use strict";i("dda0")},"41a5":function(t,e,i){"use strict";i("b28e")},4678:function(t,e,i){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return i(e)}function r(t){var e=s[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="4678"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s,n,r,a,o=i("2b0e"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Opener",{on:{userSelect:t.fetchData}}),i("Dataviz",{attrs:{selection:t.selection,data:t.data}})],1)},l=[],d=i("1da1"),u=(i("d3b7"),i("159b"),i("96cf"),i("5698")),h=i("c1df"),f=(i("acc7"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),p=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"opener"}},[i("div",{attrs:{id:"title-wrapper"}},[i("div",{attrs:{id:"main-title"}},[i("h1",[t._v("Explore GitHub Communication Networks!")])]),i("div",{attrs:{id:"sub-title"}},[t._v("Choose a project:")]),i("div",{attrs:{id:"selector-wrapper"}},[i("select",{attrs:{id:"selector"}})])])])}],m=1e3,g=["","OneDrive","waffleio","getnikola","Tribler","BobPalmer","novus","rathena","gatsbyjs"],b={name:"Opener",props:{},data:function(){return{selection:""}},methods:{showSubtitle:function(){u["select"]("#sub-title").transition().duration(m).style("opacity",1)},addOptions:function(){u["select"]("#selector").on("change",this.dropdownChange),u["select"]("#selector").selectAll("option").data(g).enter().append("option").attr("value",(function(t){return t})).text((function(t){return t}))},showOptions:function(){u["select"]("#selector").transition().delay(m).duration(m)},dropdownChange:function(){this.selection=u["select"]("#selector").property("value"),this.$emit("userSelect",this.selection)}},computed:{},mounted:function(){this.showSubtitle(),this.addOptions(),this.showOptions()}},y=b,j=(i("b058"),i("2877")),v=Object(j["a"])(y,f,p,!1,null,"39da440d",null),k=v.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content-wrapper"}},[i("div",{attrs:{id:"inner-content-wrapper"}},[i("div",{attrs:{id:"main-board"}},[t.initialized?i("Network",{attrs:{data:t.data,opts:t.opts,currentDate:t.currentDate,lastUpdated:t.lastUpdated}}):t._e()],1),i("div",{attrs:{id:"sub-board"}},[i("div",{attrs:{id:"chart-wrapper"}},[t.initialized?i("ModularityChart",{attrs:{data:t.data,opts:t.opts,currentDate:t.currentDate}}):t._e(),t.initialized?i("LinksChart",{attrs:{data:t.data,opts:t.opts,currentDate:t.currentDate}}):t._e()],1),i("div",{staticClass:"remove-on-load",attrs:{id:"legend"}})]),i("div",{attrs:{id:"slider-wrapper"}},[t.initialized?i("Slider",{key:t.componentKey,attrs:{opts:t.opts,selection:t.selection},on:{dateSelect:t.setDate,dateSelectEnd:t.setEnd}}):t._e()],1)])])},w=[],D=(i("4e82"),i("b64b"),i("d81d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"wrapper"}},[i("svg",{attrs:{id:"graph"}},[i("g",{attrs:{id:"chartLayer",transform:"translate(0,0)"}}),i("g",{attrs:{id:"resetZoomButton",transform:"translate(15,4)"},on:{click:t.resetZoom}},[i("rect",{attrs:{x:"40",y:"0",width:"8em",height:"2em",rx:"5",stroke:"deepskyblue",fill:"None"}}),i("text",{attrs:{x:"55",y:"1.4em",fill:"deepskyblue"}},[t._v("reset zoom")])])])])}),C=[],_=i("53ca"),O=(i("4de4"),i("7db0"),i("d4ec")),M=i("bee2"),S=function(){function t(e){Object(O["a"])(this,t),this.showLinkColor=e,this._d3=u}return Object(M["a"])(t,[{key:"filterNodes",value:function(t,e){var i={};e.forEach((function(t){"object"===Object(_["a"])(t.source)?(i[t.source.id]=1,i[t.target.id]=1):(i[t.source]=1,i[t.target]=1)}));var s=t.filter((function(t){return 1===i[t.id]})),n=Object.keys(i);return n.forEach((function(e){var i=t.find((function(t){return t.id===+e}));void 0===i&&console.log("node missing "+e)})),s}},{key:"filterLinks",value:function(t,e){return e=this._forDate(t,e),e=this._consolidate(e),e}},{key:"filterGroups",value:function(t,e){var i=e.format("YYYY-MM-DD"),s=t[i];return void 0===s&&(i=h(e).add(1,"day").format("YYYY-MM-DD"),s=t[i]),void 0===s&&(i=h(e).subtract(1,"day").format("YYYY-MM-DD"),s=t[i]),s}},{key:"_forDate",value:function(t,e){return t=h(t).startOf("isoWeek"),e=u["nest"]().key((function(t){return h(t.timestamp).startOf("isoWeek").format("YYYY-MM-DD")})).map(e),e["$"+t.format("YYYY-MM-DD")]}},{key:"_consolidate",value:function(t){for(var e=this,i=u["nest"]().key((function(t){return e.showLinkColor?t.rel_type:"grey"})).key((function(t){return t.source})).key((function(t){return t.target})).rollup((function(t){return u["sum"](t,(function(){return 1}))})).object(t),s=Object.keys(i),n=[],r=0;r<s.length;++r)for(var a=i[s[r]],o=Object.keys(a),c=0;c<o.length;++c)for(var l=a[o[c]],d=Object.keys(l),h=0;h<d.length;++h){var f=l[d[h]];n.push({source:+o[c],target:+d[h],weight:+f,rel_type:s[r],link_id:o[c]+"-"+d[h]})}return n}}]),t}(),L={name:"Network",props:{data:{},opts:{},currentDate:{},lastUpdated:{}},components:{},data:function(){return{linkedByIndex:{},current:{},select:{},date:{},projectName:this.opts.project,linkType:this.opts.linkType,highlightLocked:!1,highlightActive:!1,nodeProperties:{r_min:2,r_max:50,showColor:this.opts.showGroupColor},linkProperties:{width_min:1,width_max:30,showColor:this.opts.showLinkColor},forceProperties:{chargeStrength:-250,nodePadding:20,collideStrength:.7,collideIterations:3}}},methods:{simulate:function(t){var e=this,i=u["forceSimulation"]().force("y",u["forceX"](this.chartWidth/2).strength(.4)).force("x",u["forceY"](this.chartHeight/2).strength(.6)).force("charge",u["forceManyBody"]().strength(this.forceProperties.chargeStrength)).force("link",u["forceLink"]().id((function(t){return t.id}))).force("collide",u["forceCollide"]((function(t){return t.r+e.forceProperties.nodePadding})).strength(this.forceProperties.collideStrength).iterations(this.forceProperties.collideIterations));i.alphaMin(.01),i.stop(),i.nodes(t.nodes),i.force("link").links(t.links);for(var s=0,n=Math.ceil(Math.log(i.alphaMin())/Math.log(1-i.alphaDecay()));s<n;++s)i.tick();return{nodes:t.nodes,links:t.links}},setScales:function(){this.nodeRadiusScale=u["scaleLinear"]().domain([1,200]).range([this.nodeProperties.r_min,this.nodeProperties.r_max]),this.linkWeightScale=u["scaleLinear"]().domain([1,100]).range([this.linkProperties.width_min,this.linkProperties.width_max]),this.linkColorScale=u["scaleOrdinal"](u["schemeCategory10"]),this.groupColorScale=u["scaleOrdinal"](u["schemeCategory10"])},initZoom:function(){this.zoom=u["zoom"]().scaleExtent([.5,4]).on("zoom",e),this.svg.call(this.zoom);var t=this;function e(){t.select.chartLayer.attr("transform",u["event"].transform)}},resetZoom:function(){this.svg.transition().duration(750).call(this.zoom.transform,u["zoomIdentity"])},initNodePositions:function(){var t=this;this.data.nodes.forEach((function(e){e.x=t.chartWidth/2+(100*Math.random()-50),e.y=t.chartHeight/2+(100*Math.random()-50)}))},setDates:function(){this.date.min=this.opts.date.min,this.date.max=this.opts.date.max,this.oldDate=h(this.date.min),this.oldDate.startOf("isoWeek")},draw:function(){var t=1e3,e=this;function i(t){return t.link_id}function s(t){return t.id}this.select.linkPolygons=this.select.chartLayer.selectAll(".linkPolygon").data(this.current.links,i),this.select.nodeCircles=this.select.chartLayer.selectAll(".nodeCircle").data(this.current.nodes,s),this.select.nodeCircles.exit().transition().duration((function(){return 0===e.select.nodeCircles.exit().size()?0:t})).style("opacity",0).remove(),this.select.linkPolygons.exit().transition().duration((function(){return 0===e.select.nodeCircles.exit().size()?0:t})).style("opacity",0).remove(),this.select.linkPolygons.enter().append("line").attr("class","linkPolygon").attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})).style("stroke-width",(function(t){return e.linkWeightScale(t.weight)})).style("opacity",0).merge(this.select.linkPolygons).style("stroke",(function(t){return e.getLinkColor(t.rel_type)})).transition().duration(t).style("stroke-width",(function(t){return e.linkWeightScale(t.weight)})).transition().duration(t).attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})).transition().duration(t).style("opacity",.3),this.select.nodeCircles.enter().append("circle").attr("class","nodeCircle").style("opacity",0).merge(this.select.nodeCircles).each((function(){u["select"](this).moveToFront()})).transition().duration(t).attr("r",(function(t){return e.nodeRadiusScale(t.weight)})).style("fill",(function(t){return e.getGroupColor(t.group)})).transition().duration(t).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).transition().duration(t).style("opacity",1),this.highlight()},update:function(t){this.current.links=this.f.filterLinks(t,this.data.links),this.updateLinkedByIndex(this.current.links),this.calculateNodeWeight(this.data.nodes,this.current.links),this.current.nodes=this.f.filterNodes(this.data.nodes,this.current.links),this.current.groups=this.f.filterGroups(this.data.groups,t),this.current.nodes=this.reassignGroups(this.current.nodes,this.current.groups);var e={nodes:this.current.nodes,links:this.current.links},i=this.simulate(e);this.current.nodes=i.nodes,this.current.links=i.links,this.draw()},isConnected:function(t,e){return 1===this.linkedByIndex[t.id+","+e.id]||1===this.linkedByIndex[e.id+","+t.id]||t.id===e.id},calculateNodeWeight:function(t,e){t.forEach((function(t){t.weight=e.filter((function(e){return e.source===t.id||e.target===t.id})).length}))},updateLinkedByIndex:function(t){this.linkedByIndex={};var e=this;t.forEach((function(t){"object"===Object(_["a"])(t.source)?e.linkedByIndex[t.source.id+","+t.target.id]=1:e.linkedByIndex[t.source+","+t.target]=1}))},highlight:function(){var t,e=this;function i(t){e.highlightLocked||(e.highlightActive=!0,u["selectAll"](".nodeCircle").classed("passive",(function(i){return!e.isConnected(t,i)})),u["selectAll"](".linkPolygon").classed("passive",(function(e){return e.source!==t&&e.target!==t})),u["selectAll"](".passive").transition().duration(500).style("opacity",.05))}function s(){e.highlightActive=!1,u["selectAll"](".nodeCircle.passive").transition().duration(500).style("opacity",1),u["selectAll"](".linkPolygon.passive").transition().duration(500).style("opacity",.3),u["selectAll"](".nodeCircle").classed("passive",!1),u["selectAll"](".linkPolygon").classed("passive",!1)}u["selectAll"](".nodeCircle").on("mouseover",(function(t){i(t)})).on("mouseout",(function(){s(),t.hide()})).on("mouseup",(function(){u["selectAll"](".nodeCircle,.focus").attr("class","nodeCircle").transition().duration(500).style("fill","white").style("box-shadow","none"),u["select"](this).attr("class","nodeCircle focus").transition().duration(500).style("fill","green").style("box-shadow","0 0 10px 5px rgba(255, 254, 254, 0.507")}))},reassignGroups:function(t,e){if(void 0!==e){var i=Object.keys(e);i.forEach((function(i){var s=+i,n=t.find((function(t){return t.id===s}));void 0!==n?n.group=e[i]:console.log("node not found. id: "+i)}))}return t},init:function(){this.svg=u["select"]("#graph"),this.chartWidth=document.querySelector("#graph").clientWidth,this.chartHeight=document.querySelector("#graph").clientHeight,this.f=new S(this.linkProperties.showColor),this.select.chartLayer=u["select"]("#chartLayer")},getLinkColor:function(t){return this.linkProperties.showColor?this.linkColorScale(t):"white"},getGroupColor:function(t){return this.nodeProperties.showColor?this.groupColorScale(t):"white"}},watch:{lastUpdated:function(){this.update(this.currentDate)},data:function(){this.setDates(),this.update(this.oldDate)}},computed:{},mounted:function(){this.init(),this.initZoom(),this.setScales(),this.setDates(),this.initNodePositions(),this.update(this.oldDate)}},Y=L,z=(i("1ec2"),Object(j["a"])(Y,D,C,!1,null,"9de4b372",null)),P=z.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slider"},[i("div",{staticClass:"slider-text"},[i("svg",{attrs:{id:"axis_container"}},[i("g",{attrs:{id:"main_axis"}})])]),i("div",{staticClass:"slider-tray"}),i("div",{staticClass:"slider-handle"},[i("div",{staticClass:"slider-label"},[t._v(t._s(this.currentDate))]),i("div",{staticClass:"slider-handle-icon"})])])},E=[],W={name:"Slider",props:{selected:{},opts:{}},data:function(){return{currentDate:String}},watch:{selected:function(){this.generate()}},methods:{generate:function(){this.setUp(),this.setStyle(),this.dispatchEvents()},setUp:function(){this.height="50",this.date={min:this.opts.date.min,max:this.opts.date.max},this.currentDate=h(this.date.min).startOf("isoWeek").format("DD MMMM YYYY"),this.select={},this.select.slider=u["select"](".slider"),this.sliderTimeScale=u["scaleTime"]().domain([this.date.min,this.date.max]).range([0,this.select.slider.node().getBoundingClientRect().width]),this.sliderScale=u["scaleLinear"]().domain([this.date.min,this.date.max]).range([0,this.select.slider.node().getBoundingClientRect().width]).clamp(!0)},setStyle:function(){u["select"]("#main_axis").attr("transform","translate(0, 3)").call(u["axisBottom"](this.sliderTimeScale).ticks(u["timeMonth"].every(3)).tickFormat(u["timeFormat"]("%b %y"))),u["selectAll"]("#main_axis .domain").remove(),this.select.sliderTray=u["select"](".slider-tray"),this.select.sliderHandle=u["select"](".slider-handle")},dispatchEvents:function(){this.dispatch=u["dispatch"]("sliderChange","sliderEnd");var t=u,e=this;this.select.slider.call(u["drag"]().on("drag",(function(){e.dispatch.call("sliderChange")})).on("end",(function(){e.dispatch.call("sliderChange"),e.dispatch.call("sliderEnd")}))),this.dispatch.on("sliderChange",(function(){var i=e.sliderScale.invert(t.mouse(e.select.sliderTray.node())[0]);e.$emit("dateSelect",h(i)),e.updateHandlePosition(i),e.updateSliderLabel(i)})),this.dispatch.on("sliderEnd",(function(){var i=e.sliderScale.invert(t.mouse(e.select.sliderTray.node())[0]);i=Math.round(i);var s=h(i).startOf("isoWeek");s.isSame(e.oldDate)||(e.updateHandlePosition(s),e.$emit("dateSelect",h(s)),e.$emit("dateSelectEnd",h()),e.oldDate=h(s))}))},updateHandlePosition:function(t){t=h(t).startOf("isoWeek").format("x"),this.select.sliderHandle.style("left",this.sliderScale(t)+"px")},updateSliderLabel:function(t){this.currentDate=h(t).startOf("isoWeek").format("DD MMMM YYYY")}},mounted:function(){this.generate()}},T=W,N=(i("087a"),Object(j["a"])(T,A,E,!1,null,null,null)),$=N.exports,B=(i("b680"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"chartTitle",attrs:{id:"s-chart-title"}},[t._v(t._s(this.title))]),i("div",{ref:"chartWrapper",attrs:{id:"s-chart-wrapper"}},[i("div",{ref:"chartCentering",attrs:{id:"s-chart-wrapper-centering"}},[i("svg",{ref:"chartArea",attrs:{id:"s-chart-area"}})])])])}),I=[],U={name:"Linechart",props:{currentDate:{},data:{},opts:{}},data:function(){return{title:"",date:{},select:{},dataFunc:Function,formatLabel:Function}},watch:{currentDate:function(){this.updateCursorPosition(this.currentDate),this.updateLabelText(this.currentDate)},data:function(){this.clear(),this.setUp(),this.drawLine(),this.drawAxis()}},methods:{clear:function(){u["select"](this.$refs.chartArea).selectAll("*").remove()},setUp:function(){this.height=80,this.date={min:h(Object.keys(this.data.groups).sort()[0]),max:h(Math.max.apply(Math,this.data.links.map((function(t){return h(t.timestamp)}))))},this.chartData=this.dataFunc();var t=u["max"](this.chartData,(function(t){return t.value})),e=u["min"](this.chartData,(function(t){return Math.min(t.value,0)}));u["select"](this.$refs.chartWrapper).attr("height",this.height),this.select.chart=u["select"](this.$refs.chartArea).append("g").attr("transform","translate(0,0)"),this.x=u["scaleTime"]().range([0,u["select"](this.$refs.chartArea).node().getBoundingClientRect().width]).domain([this.date.min,this.date.max]),this.y=u["scaleLinear"]().range([u["select"](this.$refs.chartArea).node().getBoundingClientRect().height,0]).domain([e,t])},drawLine:function(){var t=this,e=u["line"]().x((function(e){return t.x(h(e.key,"YYYY-MM-DD"))})).y((function(e){return t.y(e.value)}));this.select.chart.append("path").attr("id","chartLine").attr("d",e(this.chartData)),this.select.chart.append("rect").attr("id","s-chart-cursor").style("height",u["select"](this.$refs.chartArea).node().getBoundingClientRect().height),this.select.label=this.select.chart.append("g").attr("id","label"),this.select.label.append("rect").attr("id","label-background"),this.select.label.append("text").attr("y",11).attr("x",5).attr("id","label-text"),this.updateLabelText(this.currentDate)},drawAxis:function(){this.select.chart.append("g").attr("transform","translate(0,"+this.height+")").attr("class","axis").attr("class","xaxis").call(u["axisBottom"](this.x)),this.select.chart.append("g").attr("transform","translate(0,0)").attr("class","axis").attr("class","yaxis").call(u["axisLeft"](this.y).ticks(2).tickValues([u["min"](this.chartData,(function(t){return t.value})),u["max"](this.chartData,(function(t){return t.value}))])),this.select.chart.selectAll(".domain").remove(),this.select.chart.selectAll(".xaxis .tick").remove(),this.select.chart.selectAll(".tick line").remove(),this.select.chart.selectAll(".tick text").attr("x",-15)},updateCursorPosition:function(t){this.select.chart.selectAll("#s-chart-cursor").attr("x",this.x(t)+"px"),this.select.chart.selectAll("#label").attr("transform","translate("+this.x(t)+" 0)")},updateLabelText:function(t){var e,i=t.format("YYYY-MM-DD"),s=this.chartData.map((function(t){return t.key})).indexOf(i);e=s>-1?this.formatLabel(this.chartData[s].value):"NA",this.select.chart.selectAll("#label-text").text(e)}},mounted:function(){this.setUp(),this.drawLine(),this.drawAxis()}},F={name:"Linechart",extends:U},G=F,H=(i("2c60"),i("41a5"),Object(j["a"])(G,B,I,!1,null,"680bea9c",null)),R=H.exports,Z={name:"ModularityChart",mixins:[R],data:function(){return{dataFunc:this.readModularity,formatLabel:this.formatL,title:"Modularity"}},methods:{readModularity:function(){for(var t=[],e=Object.keys(this.data.modularity).sort(),i=0;i<e.length;++i)t.push({key:h(e[i]).startOf("isoWeek").format("YYYY-MM-DD"),value:+this.data.modularity[e[i]]});return t},formatL:function(t){var e=t.toFixed(2);return e}},mounted:function(){}},q=Z,K=Object(j["a"])(q,s,n,!1,null,null,null),J=K.exports,V={name:"LinksChart",mixins:[R],data:function(){return{dataFunc:this.readNoLinks,formatLabel:this.formatL,title:"No of Links"}},methods:{readNoLinks:function(){for(var t=[],e=Object.keys(this.data.no_links).sort(),i=0;i<e.length;++i)t.push({key:h(e[i]).startOf("isoWeek").format("YYYY-MM-DD"),value:+this.data.no_links[e[i]]});return t},formatL:function(t){var e=t;return e}},mounted:function(){}},X=V,Q=Object(j["a"])(X,r,a,!1,null,null,null),tt=Q.exports,et={name:"Dataviz",components:{Slider:$,ModularityChart:J,LinksChart:tt,Network:P},props:{selection:String,data:{}},data:function(){return{currentDate:{},lastUpdated:{},initialized:!1,reload:!1,opts:{linkType:"all",showGroupColor:!1,showLinkColor:!1,date:{}},componentKey:0}},watch:{data:function(){this.initialized=""!==this.selection,this.componentKey+=1,this.opts.date.min=h(Object.keys(this.data.no_links).sort()[0]),this.opts.date.max=h(Math.max.apply(Math,this.data.links.map((function(t){return h(t.timestamp)})))),this.reload=!1,this.setDate(this.opts.date.min.startOf("isoWeek"))}},methods:{setDate:function(t){this.currentDate=t.startOf("isoWeek")},setEnd:function(t){this.lastUpdated=t}},computed:{render:function(){return this.initialized&&!this.reload}}},it=et,st=(i("fd29"),i("9852"),Object(j["a"])(it,x,w,!1,null,"4328510d",null)),nt=st.exports,rt={name:"app",components:{Opener:k,Dataviz:nt},data:function(){return{data:{},selection:""}},methods:{fetchData:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.selection=e,i="./viz_"+this.selection+".json",s=this,t.next=5,u["json"](i,(function(t){t=s.parseDateStrings(t),s.castIntegers(t)}));case 5:this.data=t.sent;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),parseDateStrings:function(t){return t.links.forEach((function(t){t.timestamp=h(t.timestamp)})),t},castIntegers:function(t){return t.nodes.forEach((function(t){t.id=+t.id})),t.links.forEach((function(t){t.source=+t.source,t.target=+t.target})),t}}},at=rt,ot=Object(j["a"])(at,c,l,!1,null,null,null),ct=ot.exports,lt=i("28bd");i("cf36");o["a"].use(lt["a"]),o["a"].config.productionTip=!1,u["selection"].prototype.moveToFront=function(){return this.each((function(){this.parentNode.appendChild(this)}))},new o["a"]({render:function(t){return t(ct)}}).$mount("#app")},9852:function(t,e,i){"use strict";i("f986")},acc7:function(t,e,i){},b058:function(t,e,i){"use strict";i("2c55")},b28e:function(t,e,i){},b2d9:function(t,e,i){},dda0:function(t,e,i){},f986:function(t,e,i){},fd29:function(t,e,i){"use strict";i("b2d9")}});
//# sourceMappingURL=app.6de8f9e7.js.map